# UDP

- 概念
- 特点
- 报文结构


## 一、概念

`User Datagram Protocol`用户数据报协议，传输层协议。

`UDP`是是面向非连接的协议，传送数据不需要和服务器连接，只需要知道**ip**和**监听端口**，不需要链接没有目的的socket，只是将数据报投递出去，不管接收方是否成功接收到，是一种**不可靠**的传输。

---

## 二、特点

- 关于何时、发送什么数据的应用层控制更加精细。
- 无需连接建立
- 无连接状态
- 分组首部开销小

### 2.1、关于何时、发送什么数据的应用层控制更加精细

- 只要应用将数据传递给`UDP`，`UDP`就会将此数据打包进`UDP`**报文段**并立刻将其传递给网络层。
- 而`TCP`则是有个拥塞控制机制，以确保数据能够安全传输，而不管可靠传输成功需要用多少时间。
- 所以有些实时应用，比如微信视频、语音都是更希望数据能够及时发送，为此可以容忍一部分数据丢失，比较适合用UDP。

### 2.2、无需连接建立

- 众所周知，`TCP`在数据传输前需要经过**三次握手**，`UDP`却不需要做任何的准备即可进行数据传输，因此UDP不会引入建立连接的时延。
- 这也是`DNS`运行在`UDP`而不是TCP上的主要原因。
- 而HTTP协议之所以使用TCP，是因为对于HTTP协议来说，可靠性是至关重要的。

### 2.3、无连接状态

- TCP需要维护连接状态。此连接状态包括接收和发送缓存、拥塞控制参数以及序号与确认号的参数。
- `UDP`不需要维护连接状态，也不用跟踪这些参数。

### 2.4、分组首部开销小

每个TCP报文段都有20字节的首部开销，而`UDP`仅有`8`字节的开销。

所以，如非必要，比如电子邮件，远程终端服务，web，以及文件传输，需要可靠地数据传输，会去采用TCP。其余的尤其是对实时性要求高的应用，比如实时视频会议，网络电话，一般都会选用`UDP`。

## 三、报文结构



